{
  "type": "root",
  "children": [
    {
      "type": "heading",
      "depth": 1,
      "children": [
        {
          "type": "text",
          "value": "Edge Cases: Precedence and Ambiguity",
          "position": {
            "start": {
              "line": 1,
              "column": 3,
              "offset": 2
            },
            "end": {
              "line": 1,
              "column": 39,
              "offset": 38
            }
          }
        }
      ],
      "position": {
        "start": {
          "line": 1,
          "column": 1,
          "offset": 0
        },
        "end": {
          "line": 1,
          "column": 39,
          "offset": 38
        }
      },
      "data": {
        "hProperties": {}
      }
    },
    {
      "type": "heading",
      "depth": 2,
      "children": [
        {
          "type": "text",
          "value": "Code blocks take precedence",
          "position": {
            "start": {
              "line": 3,
              "column": 4,
              "offset": 43
            },
            "end": {
              "line": 3,
              "column": 31,
              "offset": 70
            }
          }
        }
      ],
      "position": {
        "start": {
          "line": 3,
          "column": 1,
          "offset": 40
        },
        "end": {
          "line": 3,
          "column": 31,
          "offset": 70
        }
      },
      "data": {
        "hProperties": {}
      }
    },
    {
      "type": "code",
      "lang": null,
      "meta": null,
      "value": ":::card {.class}\nThis looks like a component but it's inside a code block.\n:::",
      "position": {
        "start": {
          "line": 5,
          "column": 1,
          "offset": 72
        },
        "end": {
          "line": 9,
          "column": 4,
          "offset": 158
        }
      }
    },
    {
      "type": "heading",
      "depth": 2,
      "children": [
        {
          "type": "text",
          "value": "Inline code protects attribute syntax",
          "position": {
            "start": {
              "line": 11,
              "column": 4,
              "offset": 163
            },
            "end": {
              "line": 11,
              "column": 41,
              "offset": 200
            }
          }
        }
      ],
      "position": {
        "start": {
          "line": 11,
          "column": 1,
          "offset": 160
        },
        "end": {
          "line": 11,
          "column": 41,
          "offset": 200
        }
      },
      "data": {
        "hProperties": {}
      }
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "This is ",
          "position": {
            "start": {
              "line": 13,
              "column": 1,
              "offset": 202
            },
            "end": {
              "line": 13,
              "column": 9,
              "offset": 210
            }
          }
        },
        {
          "type": "inlineCode",
          "value": "{.not-an-attribute}",
          "position": {
            "start": {
              "line": 13,
              "column": 9,
              "offset": 210
            },
            "end": {
              "line": 13,
              "column": 30,
              "offset": 231
            }
          }
        },
        {
          "type": "text",
          "value": " in inline code.",
          "position": {
            "start": {
              "line": 13,
              "column": 30,
              "offset": 231
            },
            "end": {
              "line": 13,
              "column": 46,
              "offset": 247
            }
          }
        }
      ],
      "position": {
        "start": {
          "line": 13,
          "column": 1,
          "offset": 202
        },
        "end": {
          "line": 13,
          "column": 46,
          "offset": 247
        }
      },
      "data": {
        "hProperties": {}
      }
    },
    {
      "type": "heading",
      "depth": 2,
      "children": [
        {
          "type": "text",
          "value": "Escaped syntax",
          "position": {
            "start": {
              "line": 15,
              "column": 4,
              "offset": 252
            },
            "end": {
              "line": 15,
              "column": 18,
              "offset": 266
            }
          }
        }
      ],
      "position": {
        "start": {
          "line": 15,
          "column": 1,
          "offset": 249
        },
        "end": {
          "line": 15,
          "column": 18,
          "offset": 266
        }
      },
      "data": {
        "hProperties": {}
      }
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "# Not a heading"
        }
      ],
      "data": {
        "hProperties": {}
      }
    },
    {
      "type": "containerDirective",
      "name": "card",
      "children": [
        {
          "type": "paragraph",
          "children": [
            {
              "type": "text",
              "value": "Not a component fence"
            }
          ],
          "data": {
            "hProperties": {}
          }
        }
      ],
      "position": {
        "start": {
          "line": 19,
          "column": 1,
          "offset": 0
        },
        "end": {
          "line": 19,
          "column": 8,
          "offset": 0
        }
      },
      "data": {
        "hName": "div",
        "hProperties": {
          "className": [
            "taildown-component",
            "component-card",
            "rounded-lg",
            "p-6",
            "max-w-full",
            "overflow-x-hidden",
            "break-words",
            "bg-white",
            "shadow-md"
          ],
          "data-component": "card"
        },
        "component": {
          "name": "card",
          "attributes": []
        }
      }
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": ""
        }
      ],
      "data": {
        "hProperties": {
          "className": [
            "not-a-class"
          ]
        }
      }
    },
    {
      "type": "heading",
      "depth": 2,
      "children": [
        {
          "type": "text",
          "value": "Literal braces in text",
          "position": {
            "start": {
              "line": 25,
              "column": 4,
              "offset": 343
            },
            "end": {
              "line": 25,
              "column": 26,
              "offset": 365
            }
          }
        }
      ],
      "position": {
        "start": {
          "line": 25,
          "column": 1,
          "offset": 340
        },
        "end": {
          "line": 25,
          "column": 26,
          "offset": 365
        }
      },
      "data": {
        "hProperties": {}
      }
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Use JSON like this:"
        }
      ],
      "data": {
        "hProperties": {
          "className": [
            "\"key\":",
            "\"value\""
          ]
        }
      }
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Objects can have braces:"
        }
      ],
      "data": {
        "hProperties": {
          "className": [
            "foo:",
            "bar"
          ]
        }
      }
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "But this is an attribute:"
        }
      ],
      "data": {
        "hProperties": {
          "className": [
            "actual-class"
          ]
        }
      }
    },
    {
      "type": "heading",
      "depth": 2,
      "children": [
        {
          "type": "text",
          "value": "Ambiguous positioning",
          "position": {
            "start": {
              "line": 33,
              "column": 4,
              "offset": 488
            },
            "end": {
              "line": 33,
              "column": 25,
              "offset": 509
            }
          }
        }
      ],
      "position": {
        "start": {
          "line": 33,
          "column": 1,
          "offset": 485
        },
        "end": {
          "line": 33,
          "column": 25,
          "offset": 509
        }
      },
      "data": {
        "hProperties": {}
      }
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "{.at-start} This paragraph starts with braces - treated as text"
        }
      ],
      "data": {
        "hProperties": {}
      }
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "This paragraph has {.in-middle} braces - treated as text"
        }
      ],
      "data": {
        "hProperties": {}
      }
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "This paragraph has valid braces at end"
        }
      ],
      "data": {
        "hProperties": {
          "className": [
            "valid"
          ]
        }
      }
    }
  ],
  "position": {
    "start": {
      "line": 1,
      "column": 1,
      "offset": 0
    },
    "end": {
      "line": 40,
      "column": 1,
      "offset": 682
    }
  }
}
